<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>verification</title>

<style>
@font-face {
    font-family: 'Gilroy';
    src: url('./Gilroy-Regular.woff2') format('woff2'),
         url('./Gilroy-Regular.woff') format('woff');
}

*{margin:0;padding:0;box-sizing:border-box}

body{
    height:100vh;
    background:#fff;
    color:#000;
    font-family:'Gilroy',system-ui,sans-serif;
    display:flex;
    align-items:center;
    justify-content:center;
    overflow:hidden;
}

.container{
    width:90%;
    max-width:400px;
    text-align:center;
}

/* ===== LOADER ===== */
.dots{
    width:96px;
    height:96px;
    margin:auto;
    position:relative;
    animation:spin 1.2s linear infinite;
}
.dot{
    position:absolute;
    width:16px;
    height:16px;
    background:#000;
    border-radius:50%;
    top:50%;
    left:50%;
    transform-origin:0 0;
}
.dot:nth-child(1){transform:rotate(0deg) translate(32px)}
.dot:nth-child(2){transform:rotate(60deg) translate(32px)}
.dot:nth-child(3){transform:rotate(120deg) translate(32px)}
.dot:nth-child(4){transform:rotate(180deg) translate(32px)}
.dot:nth-child(5){transform:rotate(240deg) translate(32px)}

@keyframes spin{to{transform:rotate(360deg)}}

/* ===== TEXT ===== */
.text{
    margin-top:32px;
    font-size:15px;
    line-height:1.55;
}

/* ===== BUTTONS ===== */
button{
    width:100%;
    padding:16px;
    border-radius:14px;
    font-size:13px;
    letter-spacing:2px;
    font-family:'Gilroy',system-ui,sans-serif;
    cursor:pointer;
    transition:opacity .15s ease;
}

/* agree */
#agree{
    margin-top:32px;
    background:#000;
    color:#fff;
    border:none;
}

/* multi */
#multi{
    margin-top:12px;
    background:transparent;
    color:#000;
    border:none;
}

/* ===== STATES ===== */
.hidden{display:none}

/* ===== SUCCESS ===== */
.check{
    font-size:72px;
    font-weight:700;
    opacity:0;
    animation:fade .4s ease forwards;
}
.success-text{
    margin-top:12px;
    font-size:15px;
    opacity:0;
    filter:blur(12px);
    animation:blur .8s ease forwards .25s;
}
@keyframes fade{to{opacity:1}}
@keyframes blur{to{opacity:1;filter:blur(0)}}

/* ===== MODAL ===== */
.modal-backdrop{
    position:fixed;
    inset:0;
    backdrop-filter:blur(14px);
    background:rgba(0,0,0,.3);
    display:flex;
    align-items:center;
    justify-content:center;
    opacity:0;
    pointer-events:none;
    transition:.3s;
}
.modal-backdrop.show{
    opacity:1;
    pointer-events:auto;
}
.modal{
    background:#fff;
    border-radius:22px;
    padding:28px 22px;
    width:85%;
    max-width:320px;
    text-align:center;
    box-shadow:0 30px 60px rgba(0,0,0,.35);
    animation:pop .35s ease;
}
@keyframes pop{
    from{transform:scale(.9);opacity:0}
    to{transform:scale(1);opacity:1}
}
.modal h1{
    font-size:26px;
    margin-bottom:12px;
}
.modal p{
    font-size:15px;
    margin-bottom:22px;
}
.modal button{
    background:#000;
    color:#fff;
    border:none;
}

/* ===== FOOTER ===== */
.footer{
    position:fixed;
    bottom:16px;
    width:100%;
    text-align:center;
    font-size:10px;
    letter-spacing:1.4px;
    opacity:.4;
}
/* ===== SCREEN SHAKE ===== */
@keyframes screenShake {
    0%   { transform: translate(0, 0); }
    10%  { transform: translate(-6px, 2px); }
    20%  { transform: translate(6px, -2px); }
    30%  { transform: translate(-6px, -2px); }
    40%  { transform: translate(6px, 2px); }
    50%  { transform: translate(-4px, 1px); }
    60%  { transform: translate(4px, -1px); }
    70%  { transform: translate(-4px, -1px); }
    80%  { transform: translate(4px, 1px); }
    90%  { transform: translate(-2px, 0); }
    100% { transform: translate(0, 0); }
}

.shake {
    animation: screenShake 0.5s ease;
}

</style>
</head>

<body>

<div class="container">

    <!-- START LOADER -->
    <div id="step-loading">
        <div class="dots">
            <div class="dot"></div><div class="dot"></div><div class="dot"></div>
            <div class="dot"></div><div class="dot"></div>
        </div>
    </div>

    <!-- RULES -->
    <div id="step-rules" class="hidden">
        <div class="text">
            Проходя проверку вы соглашаетесь со следующими правилами:<br><br>
            У Вас не должно быть мультиаккаунтов для участия в играх.
        </div>
        <button id="agree">Я СОГЛАСЕН</button>
        <button id="multi">Я мультовод, не сдержусь..</button>
    </div>

    <!-- WAIT -->
    <div id="step-wait" class="hidden">
        <div class="dots">
            <div class="dot"></div><div class="dot"></div><div class="dot"></div>
            <div class="dot"></div><div class="dot"></div>
        </div>
    </div>

    <!-- SUCCESS -->
    <div id="step-success" class="hidden">
        <div class="check">✔</div>
        <div class="success-text">
            Проверка пройдена<br>Приятной игры! :3
        </div>
    </div>

</div>

<!-- MODAL -->
<div class="modal-backdrop" id="modal">
    <div class="modal">
        <h1>ЧТО??!!</h1>
        <p>Я верю, что это не так.</p>
        <p>(Ты же не какой нибудь стас.)</p>
        <button id="closeModal">НЕ ПОДВЕДУ</button>
    </div>
</div>

<div class="footer">
    PROTECTION ACHIEVED WITH ALICE<br>@keendeveloper
</div>

<script>
const loading = document.getElementById('step-loading');
const rules = document.getElementById('step-rules');
const wait = document.getElementById('step-wait');
const success = document.getElementById('step-success');

const agree = document.getElementById('agree');
const multi = document.getElementById('multi');
const modal = document.getElementById('modal');
const closeModal = document.getElementById('closeModal');

/* initial */
setTimeout(()=>{
    loading.classList.add('hidden');
    rules.classList.remove('hidden');
},2000);

/* opacity on touch */
function touchOpacity(btn){
    ['pointerdown','touchstart'].forEach(e =>
        btn.addEventListener(e,()=>btn.style.opacity='.6')
    );
    ['pointerup','pointerleave','touchend','touchcancel'].forEach(e =>
        btn.addEventListener(e,()=>btn.style.opacity='1')
    );
}
touchOpacity(agree);
touchOpacity(multi);
touchOpacity(closeModal);

/* agree flow */
agree.addEventListener('click',()=>{
    rules.classList.add('hidden');

    setTimeout(()=>{
        wait.classList.remove('hidden');
    },500);

    setTimeout(()=>{
        wait.classList.add('hidden');
        success.classList.remove('hidden');

        /* single vibration on success */
        if (navigator.vibrate) {
            navigator.vibrate(80);
        }

    },2000);
});

/* modal + triple vibration */
multi.addEventListener('click',()=>{
    modal.classList.add('show');

    /* triple vibration */
    if (navigator.vibrate) {
        navigator.vibrate([60, 60, 60, 60, 60]);
    }
});

multi.addEventListener('click',()=>{

    /* triple vibration */
    if (navigator.vibrate) {
        navigator.vibrate([60, 60, 60, 60, 60]);
    }

    /* screen shake */
    document.body.classList.add('shake');

    setTimeout(()=>{
        document.body.classList.remove('shake');
    }, 500);

    modal.classList.add('show');
});
closeModal.addEventListener('click', () => {
    modal.classList.remove('show');
});

</script>
